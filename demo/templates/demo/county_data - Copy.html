{% extends 'demo/base.html' %}
{% load staticfiles %}
<!--SC: https://snakeycode.wordpress.com/2014/10/26/django-template-filter-for-formating-currency/-->
{% load humanize %}
<!--SC: https://docs.djangoproject.com/en/1.10/howto/custom-template-tags/ -->
<!--SC: https://djangosnippets.org/snippets/9/ -->
{% load demo_tags %}
{# http://stackoverflow.com/questions/844746/performing-a-getattr-style-lookup-in-a-django-template #}

{% block page_title %}| County Data{% endblock %}

{# {% block nav_demo %}class="top-menu-invisible active"{% endblock %} #}
{% block nav_demo %}class="active"{% endblock %}
{% block nav_county_data %}class="active"{% endblock %}

{% block page_stylesheets %}
        <link rel="stylesheet" href="{% static 'css/marquee.css' %}" />
{% endblock %}

{% block breadcrumb %}
	<li>Care Manager</li><li>County Data</li>
{% endblock %}


{% block main_content %}

<!-- SC notification row -->
<div class="row">
	<!-- Notification Section -->
	<article class="col-sm-12">
		<div class="alert alert-warning fade in">
			<button class="close" data-dismiss="alert">
				×
			</button>
			<i class="fa-fw fa fa-warning"></i>
			<strong>Notice: </strong> Patient has not filled <code>Zocor</code> as prescribed.
		</div>
		<div class="alert alert-success fade in">
			<button class="close" data-dismiss="alert">
				×
			</button>
			<i class="fa-fw fa fa-check"></i>
			<strong>Indicators: </strong> Patient health indicators currently within care plan guidelines.
		</div>
	</article>
</div>
<!-- end SC notification row -->

<!-- widget grid -->
<section id="widget-grid" class="">

	<!-- SC main grid row -->
	<div class="row">

		<!-- NEW WIDGET PATIENT INFO COLUMN 1 START -->
		<article class="col-sm-12 col-md-12 col-lg-6">

			<!-- Widget ID (each widget will need unique ID)-->
			<!-- County Health Widget-->
			<div class="jarviswidget jarviswidget-color-greenDark" id="wid-county-health"> <!--data-widget-editbutton="true"-->
				<!-- widget options:
				usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">
				data-widget-colorbutton="false"
				data-widget-editbutton="false"
				data-widget-togglebutton="false"
				data-widget-deletebutton="false"
				data-widget-fullscreenbutton="false"
				data-widget-custombutton="false"
				data-widget-collapsed="true"
				data-widget-sortable="false"
				-->
				<header>
					<span class="widget-icon"> <i class="fa fa-table"></i> </span>
					<h2>Health Behaviors</h2>
				</header>
				<!-- widget div-->
				<div>
					<!-- widget edit box -->
					<div class="jarviswidget-editbox"> -->
						<!-- This area used as dropdown edit box -->
						<input class="form-control" type="text">
						<span class="note"><i class="fa fa-check text-success"></i> Change title to update and save instantly!</span>
					</div>
					<!-- end widget edit box -->
					<!-- widget content -->
					<div class="widget-body no-padding">
						<div class="alert alert-info no-margin fade in">
							<button class="close" data-dismiss="alert">
								×
							</button>
							<i class="fa-fw fa fa-info"></i>
							<code>Blood Pressure</code> at <code>lower</code> edge of range.
						</div>
						<div class="table-responsive">
							<!-- Enables hover effect <code>&lt;table&gt;</code> by adding the <code>.table-hover</code> with the base class
							</div> -->
							<table class="table table-hover">
								<thead>
									<tr>
										<th> <i class="fa fa-building"></i> Focus Area</th>
										<th> <i class="fa fa-calendar"></i> Measure</th>
										<th> <i class="glyphicon glyphicon-send"></i> Description </th>
										<th>County</th>
										<th>Quartile Rank/State</th>
										<th>US Overall</th>
									</tr>
								</thead>
								<tbody>
								    {% regroup behaviors by category as grouped %}
								    {% for group in grouped %}
									    {% for obj in group.list %}
									    	{% if countydata|getattribute:obj.val2_ref > 3 %}
										    <tr class="success">
										    {% elif countydata|getattribute:obj.val2_ref < 2 %}
										    <tr class="danger">
										    {% else %}
										    <tr>
										    {% endif %}
										      {% ifchanged %}<td rowspan="{{ group.list|length }}">
										      	{{ obj.category }}</td>{% endifchanged %}
										      <td>{{ obj.measure_name }}</td>
										      <td>{{ obj.description }}</td>
										      {# <td>{{ obj.val1_ref }}</td> #}
										      <td>{{ countydata|getattribute:obj.val1_ref }}</td>
										      {# <td>{{ county_dataset.first.smoke_1 }}</td> #}
										      <td>{{ countydata|getattribute:obj.val2_ref }}</td>
										    </tr>
									    {% endfor %}
									{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
					<!-- end widget content -->
				</div>
				<!-- end widget div -->
			</div>
			<!-- end patient vitals widget -->

		</article>
		<!-- WIDGET END -->

	</div>
	<!-- end row -->
	<!-- /SC Dygraphs -->

</section>
<!-- end widget grid -->


<!-- row for news ticker -->
<div class="row">
	<div class="simple-marquee-container">
		<div class="marquee-sibling">
			HealthCare News:
		</div>
		<div class="marquee">
			<ul class="marquee-content-items">
				<li>Item 1</li>
				<li>Item 2</li>
				<li>Item 3</li>
				<li>Item 4</li>
				<li>Item 5</li>
			</ul>
		</div>
	</div>
</div>
<!-- end row for news ticker -->

{% endblock %} <!-- main content -->


<!-- copied here for reference -->
{% block js_touch %}
{% endblock %}

{% block js_smartadmin %}
		<!-- CUSTOM NOTIFICATION -->
		{# // <script src="{% static 'js/notification/SmartNotification.min.js' %}"></script> #}

		<!-- JARVIS WIDGETS -->
		<!-- <script src="{# static 'js/smartwidgets/jarvis.widget.min.js' #}"></script>-->
		<script src="{% static 'js/smartwidgets/rcg.jarvis.widget.js' %}"></script>

		<!-- EASY PIE CHARTS -->
		{# // <script src="{% static 'js/plugin/easy-pie-chart/jquery.easy-pie-chart.min.js' %}"></script> #}

		<!-- SPARKLINES -->
		{# // <script src="{% static 'js/plugin/sparkline/jquery.sparkline.min.js' %}"></script> #}

		<!-- JQUERY VALIDATE -->
		{# // <script src="{% static 'js/plugin/jquery-validate/jquery.validate.min.js' %}"></script> #}

		<!-- JQUERY MASKED INPUT -->
		{# // <script src="{% static 'js/plugin/masked-input/jquery.maskedinput.min.js' %}"></script> #}

		<!-- JQUERY SELECT2 INPUT -->
		{# // <script src="{% static 'js/plugin/select2/select2.min.js' %}"></script> #}

		<!-- JQUERY UI + Bootstrap Slider -->
		{# // <script src="{% static 'js/plugin/bootstrap-slider/bootstrap-slider.min.js' %}"></script> #}
{% endblock %} <!-- js_smartadmin -->

{% block js_voice_chat %}
{% endblock %}

{% block js_page_plugins %}
		<!-- SC: news ticker -->
		<!-- https://github.com/conradfeyt/Simple-Marquee -->
		<!-- // <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> -->
		<script type="text/javascript" src="{% static 'js/marquee.js' %}"></script>
		<script>
			$(function (){
				$('.simple-marquee-container').SimpleMarquee();
			});
		</script>
		<!-- /SC: news ticker -->

{% endblock %} <!-- js_page_plugins -->

{% block js_doc_ready %}
    <!-- DOCUMENT READY FUNCTION -->
    <script type="text/javascript">
		// PAGE RELATED DECLARATIONS
		$(document).ready(function() {
			pageSetUp();
        })
    </script>
    <!-- END DOCUMENT READY FUNCTION -->
{% endblock %} <!-- js_doc_ready -->
